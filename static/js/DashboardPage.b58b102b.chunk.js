(this["webpackJsonptractian-frontend"]=this["webpackJsonptractian-frontend"]||[]).push([[6],{297:function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return N}));var a=n(5),r=n(0),c=n(1),s="OPEN_MODAL",o="CLOSE_MODAL",u="OPEN_ADVANCED_BOX",i="CLOSE_ADVANCED_BOX",l="OPEN_EDIT_BOX",p="CLOSE_EDIT_BOX",d="OPEN_PANEL",O="CLOSE_PANEL",j="COLLAPSE_PANEL",b="OPEN_BOX",f="CLOSE_BOX",h="COLLAPSE_BOX",x="OPEN_READ_BOX",v="CLOSE_READ_BOX",g="COLLAPSE_READ_BOX",y={isModalOpen:!1,isPanelCollapsed:!1,isBoxCollapsed:!1,isReadBoxOpen:!0,isAdvancedBoxOpen:!1,isEditBoxOpen:!1};function m(e,t){switch(t.type){case s:return Object(c.a)(Object(c.a)({},e),{},{isModalOpen:!0});case o:return Object(c.a)(Object(c.a)({},e),{},{isModalOpen:!1});case d:return Object(c.a)(Object(c.a)({},e),{},{isPanelCollapsed:!1});case O:return Object(c.a)(Object(c.a)({},e),{},{isPanelCollapsed:!0});case j:return Object(c.a)(Object(c.a)({},e),{},{isPanelCollapsed:!e.isPanelCollapsed});case b:return Object(c.a)(Object(c.a)({},e),{},{isBoxCollapsed:!0});case f:return Object(c.a)(Object(c.a)({},e),{},{isBoxCollapsed:!1});case h:return Object(c.a)(Object(c.a)({},e),{},{isBoxCollapsed:!e.isBoxCollapsed});case x:return Object(c.a)(Object(c.a)({},e),{},{isAdvancedBoxOpen:!1,isEditBoxOpen:!1,isReadBoxOpen:!0});case v:return Object(c.a)(Object(c.a)({},e),{},{isReadBoxOpen:!1});case u:return Object(c.a)(Object(c.a)({},e),{},{isReadBoxOpen:!1,isEditBoxOpen:!1,isAdvancedBoxOpen:!0});case i:return Object(c.a)(Object(c.a)({},e),{},{isAdvancedBoxOpen:!1});case l:return Object(c.a)(Object(c.a)({},e),{},{isReadBoxOpen:!1,isAdvancedBoxOpen:!1,isEditBoxOpen:!0});case p:return Object(c.a)(Object(c.a)({},e),{},{isEditBoxOpen:!1});case g:return Object(c.a)(Object(c.a)({},e),{},{isReadBoxOpen:!e.isReadBoxOpen});default:throw new Error("Unhandled action type: ".concat(t.type))}}var C=function(e){return{modal:{open:function(){e({type:s})},close:function(){e({type:o})}},advancedBox:{open:function(){e({type:u})},close:function(){e({type:i})}},editBox:{open:function(){e({type:l})},close:function(){e({type:p})}},panel:{open:function(){e({type:d})},close:function(){e({type:O})},collapse:function(){e({type:j})}},collapsedBox:{open:function(){e({type:b})},close:function(){e({type:f})},collapse:function(){e({type:h})}},readBox:{open:function(){e({type:x}),console.log("readBox open")},close:function(){e({type:v}),console.log("readBox close")},collapse:function(){e({type:g})}}}},B=function(e){return{isModalOpen:function(){return e.isModalOpen},isPanelOpen:function(){return e.isPanelOpen},isBoxOpen:function(){return e.isBoxOpen}}},w=n(6),E=Object(r.createContext)();function P(e){var t=e.children,n=Object(r.useReducer)(m,y),c=Object(a.a)(n,2),s=c[0],o=c[1],u=Object(r.useMemo)((function(){return[s,o]}),[s]);return Object(w.jsx)(E.Provider,{value:u,children:t})}function N(){var e=Object(r.useContext)(E);if(void 0===e)throw new Error("useCrudContext must be used within a CrudContextProvider");var t=Object(a.a)(e,2),n=t[0],c=t[1];return{state:n,crudContextAction:C(c),crudContextSelector:B(n)}}},298:function(e,t,n){"use strict";function a(){var e=String.fromCharCode(Math.floor(25*Math.random()+65));do{var t=Math.floor(25*Math.random()+65);e+=String.fromCharCode(t),e+=Math.floor(99*Math.random())}while(e.length<8);return e}n.d(t,"a",(function(){return a}))},299:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(45),r=n(1),c=n(4),s=n(25),o=n.n(s),u=n(134),i=n.n(u),l=n(81),p=n(93),d=n(135),O=n(136),j=Object(c.a)({},l.a,p.c.get()),b=i.a.create({baseURL:l.b,timeout:3e4,headers:Object(r.a)({},j)}),f={create:function(){var e=Object(a.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.defaults.headers=Object(r.a)({},j),console.log("jsonData",n),e.prev=2,e.next=5,b.post(t+"/",n);case 5:return a=e.sent,e.abrupt("return",Object(O.a)(a));case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",Object(d.a)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),read:function(){var e=Object(a.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.defaults.headers=Object(r.a)({},j),e.prev=1,e.next=4,b.get(t+"/read/"+n);case 4:return a=e.sent,e.abrupt("return",Object(O.a)(a));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",Object(d.a)(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),update:function(){var e=Object(a.a)(o.a.mark((function e(t,n,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.defaults.headers=Object(r.a)({},j),e.prev=1,e.next=4,b.patch(t+"/"+n,a);case 4:return c=e.sent,e.abrupt("return",Object(O.a)(c));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",Object(d.a)(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,a){return e.apply(this,arguments)}}(),delete:function(){var e=Object(a.a)(o.a.mark((function e(t,n){var a,c=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>2&&void 0!==c[2]?c[2]:{},b.defaults.headers=Object(r.a)({},j),e.prev=2,e.next=5,b.delete(t+"/"+n);case 5:return a=e.sent,e.abrupt("return",Object(O.a)(a));case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",Object(d.a)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),filter:function(){var e=Object(a.a)(o.a.mark((function e(t){var n,a,c,s,u,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},b.defaults.headers=Object(r.a)({},j),e.prev=2,a=n.filter?"filter="+n.filter:"",c=n.equal?"&equal="+n.equal:"",s="?".concat(a).concat(c),e.next=8,b.get(t+"/filter"+s);case 8:return u=e.sent,e.abrupt("return",Object(O.a)(u));case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",Object(d.a)(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),search:function(){var e=Object(a.a)(o.a.mark((function e(t,n){var a,r,s,u,i,j=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=j.length>2&&void 0!==j[2]?j[2]:{},b.defaults.headers=Object(c.a)({},l.a,p.c.get()),e.prev=2,r="",a!=={}&&(s=a.fields?"fields="+a.fields:"",u=a.question?"&q="+a.question:"",r="?".concat(s).concat(u)),e.next=7,b.get(t+"/"+r,{cancelToken:n.token});case 7:return i=e.sent,e.abrupt("return",Object(O.a)(i));case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",Object(d.a)(e.t0));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}(),list:function(){var e=Object(a.a)(o.a.mark((function e(t){var n,a,r,s,u,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},b.defaults.headers=Object(c.a)({},l.a,p.c.get()),console.log(p.c.get()),e.prev=3,a="",n!=={}&&(r=n.page?"page="+n.page:"",s=n.items?"&items="+n.items:"",a="?".concat(r).concat(s)),e.next=8,b.get(t+"/"+a);case 8:return u=e.sent,e.abrupt("return",Object(O.a)(u));case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",Object(d.a)(e.t0));case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),post:function(){var e=Object(a.a)(o.a.mark((function e(t,n){var a,c=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>2&&void 0!==c[2]?c[2]:{},b.defaults.headers=Object(r.a)({},j),e.prev=2,e.next=5,b.post(t,n);case 5:return a=e.sent,e.abrupt("return",Object(O.a)(a));case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",Object(d.a)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),get:function(){var e=Object(a.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.defaults.headers=Object(r.a)({},j),e.prev=1,e.next=4,b.get(t);case 4:return n=e.sent,e.abrupt("return",Object(O.a)(n));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",Object(d.a)(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),patch:function(){var e=Object(a.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.defaults.headers=Object(r.a)({},j),e.prev=1,e.next=4,b.patch(t,n);case 4:return a=e.sent,e.abrupt("return",Object(O.a)(a));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",Object(d.a)(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),source:function(){var e=i.a.CancelToken.source();return e}},h=f},300:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));var a=n(45),r=n(25),c=n.n(r),s=n(58),o=n(93),u=n(80),i=n(94),l=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:s.b,payload:{loading:!0}}),t.next=3,o.a(e);case 3:!0===(a=t.sent).success?(r={current:a.result.admin,loading:!1,isLoggedIn:!0},u.a.set("auth",r),n({type:s.c,payload:a.result.admin}),i.a.push("/")):n({type:s.a,payload:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.b(),t({type:s.d}),i.a.push("/login");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},301:function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return A}));var a=n(0),r=n(297),c=n(6);var s=function(e){var t=e.children;return Object(c.jsx)(r.a,{children:t})},o=n(92),u=n(288),i=n(287),l=n(322),p=n(344),d=n(294),O=n(300),j=n(298),b=u.a.Header;function f(){var e=Object(o.b)(),t=Object(c.jsx)(i.a,{children:Object(c.jsx)(i.a.Item,{onClick:function(){return e(Object(O.b)())},children:"Logout"},"".concat(Object(j.a)()))});return Object(c.jsx)(b,{className:"site-layout-background",style:{padding:0,background:"none"},children:Object(c.jsx)(l.a,{overlay:t,placement:"bottomRight",arrow:!0,children:Object(c.jsx)(p.a,{icon:Object(c.jsx)(d.a,{})})})})}var h=n(5),x=n(367),v=n(351),g=n(352),y=function(e){var t=e.onChange,n=e.title;return Object(c.jsx)("div",{className:"collapseBoxHeader",onClick:t,children:n})},m=function(e){var t=e.isOpen,n=e.children,a=t?{display:"block",opacity:1}:{display:"none",opacity:0};return Object(c.jsx)("div",{className:"TopCollapseBox",children:Object(c.jsx)("div",{style:a,children:Object(c.jsx)(v.a,{children:Object(c.jsxs)(g.a,{span:24,children:[" ",n]})})})})},C=function(e){var t=e.isOpen,n=e.children,a=t?{display:"none",opacity:0}:{display:"block",opacity:1};return Object(c.jsx)("div",{className:"BottomCollapseBox",children:Object(c.jsx)("div",{style:a,children:Object(c.jsx)(v.a,{children:Object(c.jsxs)(g.a,{span:24,children:[" ",n]})})})})};function B(e){var t=e.topContent,n=e.bottomContent,a=e.buttonTitle,r=e.isCollapsed,s=e.onCollapse,o=r?"collapsed":"",u=e.isPanelCollapsed?"-400px":"0px";return Object(c.jsxs)("div",{className:"panelBox",style:{width:"400px",marginLeft:u},children:[Object(c.jsx)(m,{isOpen:r,children:t}),Object(c.jsxs)("div",{className:"collapseBox "+o,children:[Object(c.jsx)(y,{title:a,onChange:s}),Object(c.jsx)("div",{className:"whiteBg"}),Object(c.jsx)(C,{isOpen:r,children:n})]})]})}var w=u.a.Sider;function E(e){var t=e.config,n=e.topContent,s=e.bottomContent,o=e.fixHeaderPanel,u=t.ADD_NEW_ENTITY,i=Object(r.b)(),l=i.state,p=i.crudContextAction,d=l.isPanelCollapsed,O=l.isBoxCollapsed,j=p.panel,b=p.collapsedBox,f=Object(a.useState)("0px"),v=Object(h.a)(f,2),g=v[0],y=v[1],m=Object(a.useState)("1"),C=Object(h.a)(m,2),E=C[0],P=C[1];Object(a.useEffect)((function(){d?(y("-400px"),P(0)):(y("0px"),P(1)),setTimeout((function(){y("0px"),P(1)}),300)}),[d]);return Object(c.jsxs)(w,{trigger:Object(c.jsx)(x.a,{className:"trigger"}),width:400,collapsible:!0,collapsed:d,collapsedWidth:"0px",onCollapse:function(){j.collapse()},zeroWidthTriggerStyle:{right:"-50px",top:"15px"},style:{background:"#FFF",left:g,opacity:E},children:[o,Object(c.jsx)(B,{buttonTitle:u,isPanelCollapsed:d,isCollapsed:O,onCollapse:function(){b.collapse()},topContent:n,bottomContent:s})]})}var P=u.a.Content;function N(e){var t=e.children,n=e.config,a=e.sidePanelTopContent,r=e.sidePanelBottomContent,o=e.fixHeaderPanel;return Object(c.jsx)(s,{children:Object(c.jsxs)(u.a,{style:{minHeight:"100vh"},children:[Object(c.jsx)(E,{config:n,topContent:a,bottomContent:r,fixHeaderPanel:o}),Object(c.jsxs)(u.a,{className:"site-layout",children:[Object(c.jsx)(f,{}),Object(c.jsx)(P,{className:"site-layout-background",style:{padding:"50px 40px",margin:"50px auto",width:"100%",maxWidth:"1000px"},children:t})]})]})})}var _=u.a.Content;function A(e){var t=e.children;return Object(c.jsxs)(u.a,{className:"site-layout",children:[Object(c.jsx)(f,{}),Object(c.jsx)(_,{style:{padding:"30px 40px",margin:"20px auto",width:"100%",maxWidth:"1100px"},children:t})]})}},363:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var a=n(5),r=n(0),c=n(351),s=n(334),o=n(352),u=n(327),i=n(330),l=n(301),p=(n(8),n(287),n(322),n(356),n(299));n(45),n(25);n(331),n(368),n(350),n(172);var d=n(6);var O=n(109),j=n(337),b=n.n(j),f=n(338),h=n.n(f);function x(){var e=Object(r.useState)(!1),t=Object(a.a)(e,2),n=t[0],j=(t[1],Object(r.useState)(!1)),f=Object(a.a)(j,2),x=f[0],v=(f[1],Object(r.useState)([])),g=Object(a.a)(v,2),y=g[0],m=g[1],C=Object(r.useState)({}),B=Object(a.a)(C,2),w=B[0],E=B[1];return Object(r.useEffect)((function(){p.a.list("asset").then((function(e){m(e.result)}))}),[n]),Object(r.useEffect)((function(){p.a.list("asset/history").then((function(e){var t=[];e.result&&(t=Object.keys(e.result).map((function(t){return{name:"".concat(e.result[t].name," (").concat(e.result[t]._id,")"),data:e.result[t].history.map((function(e){return[new Date(e.date).toString(),e.health_level]}))}}))),E({chart:{type:"line",width:1e3,align:"center"},title:{text:"Health level history"},yAxis:{title:{text:"Health level"}},xAxis:{title:{text:"Register"}},series:t})}))}),[x]),Object(d.jsxs)(l.b,{children:[Object(d.jsx)(c.a,{gutter:[24,24],children:Object(d.jsx)(h.a,{highcharts:b.a,options:w,width:"100%"})}),Object(d.jsx)(s.a,{}),Object(d.jsx)(c.a,{gutter:[24,24],children:y&&y.length?y.map((function(e,t){return Object(d.jsx)(o.a,{className:"gutter-row",span:6,children:Object(d.jsx)("div",{className:"whiteBox shadow",style:{height:"380px"},children:Object(d.jsxs)("div",{className:"pad20",style:{textAlign:"center",justifyContent:"center"},children:[Object(d.jsx)("img",{src:e.image[0].response.result,width:"50em"}),Object(d.jsx)("h3",{style:{color:"#22075e"},children:e.name}),Object(d.jsx)("h6",{style:{color:"#22075e",marginBottom:30},children:e._id}),Object(d.jsx)(u.a,{type:"dashboard",percent:e.health_level,width:118}),Object(d.jsx)("p",{children:"Health level"}),Object(d.jsx)(s.a,{}),Object(d.jsx)(i.a,{size:"large",color:"Running"===e.status?"green":"Alerting"===e.status?"red":"gray",children:e.status},e.status)]})})},t)})):Object(d.jsx)(O.a,{})}),Object(d.jsx)("div",{className:"space30"})]})}}}]);
//# sourceMappingURL=DashboardPage.b58b102b.chunk.js.map