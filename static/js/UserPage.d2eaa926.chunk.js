(this["webpackJsonptractian-frontend"]=this["webpackJsonptractian-frontend"]||[]).push([[11],{297:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return B}));var a=n(5),c=n(0),r=n(1),o="OPEN_MODAL",s="CLOSE_MODAL",i="OPEN_ADVANCED_BOX",u="CLOSE_ADVANCED_BOX",l="OPEN_EDIT_BOX",d="CLOSE_EDIT_BOX",p="OPEN_PANEL",b="CLOSE_PANEL",j="COLLAPSE_PANEL",f="OPEN_BOX",O="CLOSE_BOX",x="COLLAPSE_BOX",h="OPEN_READ_BOX",m="CLOSE_READ_BOX",v="COLLAPSE_READ_BOX",y={isModalOpen:!1,isPanelCollapsed:!1,isBoxCollapsed:!1,isReadBoxOpen:!0,isAdvancedBoxOpen:!1,isEditBoxOpen:!1};function g(e,t){switch(t.type){case o:return Object(r.a)(Object(r.a)({},e),{},{isModalOpen:!0});case s:return Object(r.a)(Object(r.a)({},e),{},{isModalOpen:!1});case p:return Object(r.a)(Object(r.a)({},e),{},{isPanelCollapsed:!1});case b:return Object(r.a)(Object(r.a)({},e),{},{isPanelCollapsed:!0});case j:return Object(r.a)(Object(r.a)({},e),{},{isPanelCollapsed:!e.isPanelCollapsed});case f:return Object(r.a)(Object(r.a)({},e),{},{isBoxCollapsed:!0});case O:return Object(r.a)(Object(r.a)({},e),{},{isBoxCollapsed:!1});case x:return Object(r.a)(Object(r.a)({},e),{},{isBoxCollapsed:!e.isBoxCollapsed});case h:return Object(r.a)(Object(r.a)({},e),{},{isAdvancedBoxOpen:!1,isEditBoxOpen:!1,isReadBoxOpen:!0});case m:return Object(r.a)(Object(r.a)({},e),{},{isReadBoxOpen:!1});case i:return Object(r.a)(Object(r.a)({},e),{},{isReadBoxOpen:!1,isEditBoxOpen:!1,isAdvancedBoxOpen:!0});case u:return Object(r.a)(Object(r.a)({},e),{},{isAdvancedBoxOpen:!1});case l:return Object(r.a)(Object(r.a)({},e),{},{isReadBoxOpen:!1,isAdvancedBoxOpen:!1,isEditBoxOpen:!0});case d:return Object(r.a)(Object(r.a)({},e),{},{isEditBoxOpen:!1});case v:return Object(r.a)(Object(r.a)({},e),{},{isReadBoxOpen:!e.isReadBoxOpen});default:throw new Error("Unhandled action type: ".concat(t.type))}}var C=function(e){return{modal:{open:function(){e({type:o})},close:function(){e({type:s})}},advancedBox:{open:function(){e({type:i})},close:function(){e({type:u})}},editBox:{open:function(){e({type:l})},close:function(){e({type:d})}},panel:{open:function(){e({type:p})},close:function(){e({type:b})},collapse:function(){e({type:j})}},collapsedBox:{open:function(){e({type:f})},close:function(){e({type:O})},collapse:function(){e({type:x})}},readBox:{open:function(){e({type:h}),console.log("readBox open")},close:function(){e({type:m}),console.log("readBox close")},collapse:function(){e({type:v})}}}},w=function(e){return{isModalOpen:function(){return e.isModalOpen},isPanelOpen:function(){return e.isPanelOpen},isBoxOpen:function(){return e.isBoxOpen}}},k=n(6),E=Object(c.createContext)();function S(e){var t=e.children,n=Object(c.useReducer)(g,y),r=Object(a.a)(n,2),o=r[0],s=r[1],i=Object(c.useMemo)((function(){return[o,s]}),[o]);return Object(k.jsx)(E.Provider,{value:i,children:t})}function B(){var e=Object(c.useContext)(E);if(void 0===e)throw new Error("useCrudContext must be used within a CrudContextProvider");var t=Object(a.a)(e,2),n=t[0],r=t[1];return{state:n,crudContextAction:C(r),crudContextSelector:w(n)}}},298:function(e,t,n){"use strict";function a(){var e=String.fromCharCode(Math.floor(25*Math.random()+65));do{var t=Math.floor(25*Math.random()+65);e+=String.fromCharCode(t),e+=Math.floor(99*Math.random())}while(e.length<8);return e}n.d(t,"a",(function(){return a}))},299:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(45),c=n(1),r=n(4),o=n(25),s=n.n(o),i=n(134),u=n.n(i),l=n(81),d=n(93),p=n(135),b=n(136),j=Object(r.a)({},l.a,d.c.get()),f=u.a.create({baseURL:l.b,timeout:3e4,headers:Object(c.a)({},j)}),O={create:function(){var e=Object(a.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.defaults.headers=Object(c.a)({},j),console.log("jsonData",n),e.prev=2,e.next=5,f.post(t+"/",n);case 5:return a=e.sent,e.abrupt("return",Object(b.a)(a));case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",Object(p.a)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),read:function(){var e=Object(a.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.defaults.headers=Object(c.a)({},j),e.prev=1,e.next=4,f.get(t+"/read/"+n);case 4:return a=e.sent,e.abrupt("return",Object(b.a)(a));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",Object(p.a)(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),update:function(){var e=Object(a.a)(s.a.mark((function e(t,n,a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.defaults.headers=Object(c.a)({},j),e.prev=1,e.next=4,f.patch(t+"/"+n,a);case 4:return r=e.sent,e.abrupt("return",Object(b.a)(r));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",Object(p.a)(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,a){return e.apply(this,arguments)}}(),delete:function(){var e=Object(a.a)(s.a.mark((function e(t,n){var a,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>2&&void 0!==r[2]?r[2]:{},f.defaults.headers=Object(c.a)({},j),e.prev=2,e.next=5,f.delete(t+"/"+n);case 5:return a=e.sent,e.abrupt("return",Object(b.a)(a));case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",Object(p.a)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),filter:function(){var e=Object(a.a)(s.a.mark((function e(t){var n,a,r,o,i,u=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},f.defaults.headers=Object(c.a)({},j),e.prev=2,a=n.filter?"filter="+n.filter:"",r=n.equal?"&equal="+n.equal:"",o="?".concat(a).concat(r),e.next=8,f.get(t+"/filter"+o);case 8:return i=e.sent,e.abrupt("return",Object(b.a)(i));case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",Object(p.a)(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),search:function(){var e=Object(a.a)(s.a.mark((function e(t,n){var a,c,o,i,u,j=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=j.length>2&&void 0!==j[2]?j[2]:{},f.defaults.headers=Object(r.a)({},l.a,d.c.get()),e.prev=2,c="",a!=={}&&(o=a.fields?"fields="+a.fields:"",i=a.question?"&q="+a.question:"",c="?".concat(o).concat(i)),e.next=7,f.get(t+"/"+c,{cancelToken:n.token});case 7:return u=e.sent,e.abrupt("return",Object(b.a)(u));case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",Object(p.a)(e.t0));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}(),list:function(){var e=Object(a.a)(s.a.mark((function e(t){var n,a,c,o,i,u=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},f.defaults.headers=Object(r.a)({},l.a,d.c.get()),console.log(d.c.get()),e.prev=3,a="",n!=={}&&(c=n.page?"page="+n.page:"",o=n.items?"&items="+n.items:"",a="?".concat(c).concat(o)),e.next=8,f.get(t+"/"+a);case 8:return i=e.sent,e.abrupt("return",Object(b.a)(i));case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",Object(p.a)(e.t0));case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),post:function(){var e=Object(a.a)(s.a.mark((function e(t,n){var a,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>2&&void 0!==r[2]?r[2]:{},f.defaults.headers=Object(c.a)({},j),e.prev=2,e.next=5,f.post(t,n);case 5:return a=e.sent,e.abrupt("return",Object(b.a)(a));case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",Object(p.a)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),get:function(){var e=Object(a.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.defaults.headers=Object(c.a)({},j),e.prev=1,e.next=4,f.get(t);case 4:return n=e.sent,e.abrupt("return",Object(b.a)(n));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",Object(p.a)(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),patch:function(){var e=Object(a.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.defaults.headers=Object(c.a)({},j),e.prev=1,e.next=4,f.patch(t,n);case 4:return a=e.sent,e.abrupt("return",Object(b.a)(a));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",Object(p.a)(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),source:function(){var e=u.a.CancelToken.source();return e}},x=O},300:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var a=n(45),c=n(25),r=n.n(c),o=n(58),s=n(93),i=n(80),u=n(94),l=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:o.b,payload:{loading:!0}}),t.next=3,s.a(e);case 3:!0===(a=t.sent).success?(c={current:a.result.admin,loading:!1,isLoggedIn:!0},i.a.set("auth",c),n({type:o.c,payload:a.result.admin}),u.a.push("/")):n({type:o.a,payload:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(){return function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.b(),t({type:o.d}),u.a.push("/login");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},301:function(e,t,n){"use strict";n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return P}));var a=n(0),c=n(297),r=n(6);var o=function(e){var t=e.children;return Object(r.jsx)(c.a,{children:t})},s=n(92),i=n(288),u=n(287),l=n(322),d=n(344),p=n(294),b=n(300),j=n(298),f=i.a.Header;function O(){var e=Object(s.b)(),t=Object(r.jsx)(u.a,{children:Object(r.jsx)(u.a.Item,{onClick:function(){return e(Object(b.b)())},children:"Logout"},"".concat(Object(j.a)()))});return Object(r.jsx)(f,{className:"site-layout-background",style:{padding:0,background:"none"},children:Object(r.jsx)(l.a,{overlay:t,placement:"bottomRight",arrow:!0,children:Object(r.jsx)(d.a,{icon:Object(r.jsx)(p.a,{})})})})}var x=n(5),h=n(367),m=n(351),v=n(352),y=function(e){var t=e.onChange,n=e.title;return Object(r.jsx)("div",{className:"collapseBoxHeader",onClick:t,children:n})},g=function(e){var t=e.isOpen,n=e.children,a=t?{display:"block",opacity:1}:{display:"none",opacity:0};return Object(r.jsx)("div",{className:"TopCollapseBox",children:Object(r.jsx)("div",{style:a,children:Object(r.jsx)(m.a,{children:Object(r.jsxs)(v.a,{span:24,children:[" ",n]})})})})},C=function(e){var t=e.isOpen,n=e.children,a=t?{display:"none",opacity:0}:{display:"block",opacity:1};return Object(r.jsx)("div",{className:"BottomCollapseBox",children:Object(r.jsx)("div",{style:a,children:Object(r.jsx)(m.a,{children:Object(r.jsxs)(v.a,{span:24,children:[" ",n]})})})})};function w(e){var t=e.topContent,n=e.bottomContent,a=e.buttonTitle,c=e.isCollapsed,o=e.onCollapse,s=c?"collapsed":"",i=e.isPanelCollapsed?"-400px":"0px";return Object(r.jsxs)("div",{className:"panelBox",style:{width:"400px",marginLeft:i},children:[Object(r.jsx)(g,{isOpen:c,children:t}),Object(r.jsxs)("div",{className:"collapseBox "+s,children:[Object(r.jsx)(y,{title:a,onChange:o}),Object(r.jsx)("div",{className:"whiteBg"}),Object(r.jsx)(C,{isOpen:c,children:n})]})]})}var k=i.a.Sider;function E(e){var t=e.config,n=e.topContent,o=e.bottomContent,s=e.fixHeaderPanel,i=t.ADD_NEW_ENTITY,u=Object(c.b)(),l=u.state,d=u.crudContextAction,p=l.isPanelCollapsed,b=l.isBoxCollapsed,j=d.panel,f=d.collapsedBox,O=Object(a.useState)("0px"),m=Object(x.a)(O,2),v=m[0],y=m[1],g=Object(a.useState)("1"),C=Object(x.a)(g,2),E=C[0],S=C[1];Object(a.useEffect)((function(){p?(y("-400px"),S(0)):(y("0px"),S(1)),setTimeout((function(){y("0px"),S(1)}),300)}),[p]);return Object(r.jsxs)(k,{trigger:Object(r.jsx)(h.a,{className:"trigger"}),width:400,collapsible:!0,collapsed:p,collapsedWidth:"0px",onCollapse:function(){j.collapse()},zeroWidthTriggerStyle:{right:"-50px",top:"15px"},style:{background:"#FFF",left:v,opacity:E},children:[s,Object(r.jsx)(w,{buttonTitle:i,isPanelCollapsed:p,isCollapsed:b,onCollapse:function(){f.collapse()},topContent:n,bottomContent:o})]})}var S=i.a.Content;function B(e){var t=e.children,n=e.config,a=e.sidePanelTopContent,c=e.sidePanelBottomContent,s=e.fixHeaderPanel;return Object(r.jsx)(o,{children:Object(r.jsxs)(i.a,{style:{minHeight:"100vh"},children:[Object(r.jsx)(E,{config:n,topContent:a,bottomContent:c,fixHeaderPanel:s}),Object(r.jsxs)(i.a,{className:"site-layout",children:[Object(r.jsx)(O,{}),Object(r.jsx)(S,{className:"site-layout-background",style:{padding:"50px 40px",margin:"50px auto",width:"100%",maxWidth:"1000px"},children:t})]})]})})}var N=i.a.Content;function P(e){var t=e.children;return Object(r.jsxs)(i.a,{className:"site-layout",children:[Object(r.jsx)(O,{}),Object(r.jsx)(N,{style:{padding:"30px 40px",margin:"20px auto",width:"100%",maxWidth:"1100px"},children:t})]})}},303:function(e,t,n){"use strict";n.d(t,"a",(function(){return fe}));var a=n(0),c=n(351),r=n(352),o=n(286),s=n(365),i=n(1),u=n(5),l=n(92),d=n(45),p=n(25),b=n.n(p),j=n(54),f=n(299),O=function(){return function(){var e=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:j.g});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(d.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:j.f,keyState:e,payload:null});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(d.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:j.b,payload:Object(i.a)({},e)});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e,t){return function(){var n=Object(d.a)(b.a.mark((function n(a){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:j.a,keyState:e,payload:Object(i.a)({},t)});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var n=Object(d.a)(b.a.mark((function n(a){var c,r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:j.d,keyState:"list",payload:null}),n.next=3,f.a.list(e,{page:t});case 3:!0===(c=n.sent).success?(r={items:c.result,pagination:{current:parseInt(c.pagination.page,10),pageSize:10,total:parseInt(c.pagination.count,10)}},a({type:j.e,keyState:"list",payload:r})):a({type:j.c,keyState:"list",payload:null});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},y=function(e,t){return function(){var n=Object(d.a)(b.a.mark((function n(a){var c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:j.d,keyState:"create",payload:null}),console.log("jsonData action redux",t),n.next=4,f.a.create(e,t);case 4:!0===(c=n.sent).success?(a({type:j.e,keyState:"create",payload:c.result}),a({type:j.b,payload:c.result})):a({type:j.c,keyState:"create",payload:null});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},g=function(e,t,n){return function(){var a=Object(d.a)(b.a.mark((function a(c){var r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:j.d,keyState:"update",payload:null}),a.next=3,f.a.update(e,t,n);case 3:!0===(r=a.sent).success?(c({type:j.e,keyState:"update",payload:r.result}),c({type:j.b,payload:r.result})):c({type:j.c,keyState:"update",payload:null});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},C=function(e,t){return function(){var n=Object(d.a)(b.a.mark((function n(a){var c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:j.d,keyState:"delete",payload:null}),n.next=3,f.a.delete(e,t);case 3:!0===(c=n.sent).success?a({type:j.e,keyState:"delete",payload:c.result}):a({type:j.c,keyState:"delete",payload:null});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},w=function(e,t,n){return function(){var a=Object(d.a)(b.a.mark((function a(c){var r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:j.d,keyState:"search",payload:null}),t.cancel(),t=f.a.source(),a.next=5,f.a.search(e,t,n);case 5:!0===(r=a.sent).success?c({type:j.e,keyState:"search",payload:r.result}):c({type:j.c,keyState:"search",payload:null});case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},k=n(297),E=n(101),S=function(e){return e.crud},B=Object(E.a)([S],(function(e){return e.current})),N=Object(E.a)([S],(function(e){return e.list})),P=Object(E.a)([S],(function(e){return e.create})),T=Object(E.a)([S],(function(e){return e.update})),I=(Object(E.a)([S],(function(e){return e.read})),Object(E.a)([S],(function(e){return e.delete}))),A=Object(E.a)([S],(function(e){return e.search})),_=n(358),L=n(209),D=n(82),M=n(6);function F(e){var t=e.isLoading,n=e.children,a=Object(M.jsx)(D.a,{style:{fontSize:24},spin:!0});return Object(M.jsx)(L.a,{indicator:a,spinning:t,children:n})}function R(e){var t=e.config,n=e.formElements,c=t.entity,r=Object(l.b)(),s=Object(l.c)(P),d=s.isLoading,p=s.isSuccess,b=Object(k.b)().crudContextAction,j=b.panel,f=b.collapsedBox,O=b.readBox,h=_.a.useForm(),m=Object(u.a)(h,1)[0];return Object(a.useEffect)((function(){p&&(O.open(),f.open(),j.open(),m.resetFields(),r(x("create")),r(v(c)))}),[p]),Object(M.jsx)(F,{isLoading:d,children:Object(M.jsxs)(_.a,{form:m,layout:"vertical",onFinish:function(e){e&&(e.birthday&&(e=Object(i.a)(Object(i.a)({},e),{},{birthday:e.birthday.format("DD/MM/YYYY")})),e.date&&(e=Object(i.a)(Object(i.a)({},e),{},{date:e.date.format("DD/MM/YYYY")}))),r(y(c,e))},children:[n,Object(M.jsx)(_.a.Item,{children:Object(M.jsx)(o.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})}var Y=n(308),q=n.n(Y);function U(e){var t=e.config,n=e.formElements,c=t.entity,r=Object(l.b)(),s=Object(l.c)(T),d=s.current,p=s.isLoading,b=s.isSuccess,j=Object(k.b)(),f=j.state,O=j.crudContextAction,h=O.panel,m=O.collapsedBox,y=O.readBox,C=_.a.useForm(),w=Object(u.a)(C,1)[0];Object(a.useEffect)((function(){d&&(d.birthday&&(d.birthday=q()(d.birthday)),d.date&&(d.date=q()(d.date)),w.setFieldsValue(d))}),[d]),Object(a.useEffect)((function(){b&&(y.open(),m.open(),h.open(),w.resetFields(),r(x("update")),r(v(c)))}),[b]);var E=f.isEditBoxOpen?{display:"block",opacity:1}:{display:"none",opacity:0};return Object(M.jsx)("div",{style:E,children:Object(M.jsx)(F,{isLoading:p,children:Object(M.jsxs)(_.a,{form:w,layout:"vertical",onFinish:function(e){e&&(e.birthday&&(e=Object(i.a)(Object(i.a)({},e),{},{birthday:e.birthday.format("DD/MM/YYYY")})),e.date&&(e=Object(i.a)(Object(i.a)({},e),{},{birthday:e.date.format("DD/MM/YYYY")})));var t=d._id;r(g(c,t,e))},children:[n,Object(M.jsx)(_.a.Item,{children:Object(M.jsx)(o.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})}var X=n(360);n(309);function H(e,t,n){return void 0===n&&(n="|"),t.split(n).map((function(t){return function(e,t){return t.split(".").reduce((function(e,t){return void 0===e||null===e?e:e[t]}),e)}(e,t)})).join(" ")}Object.byString=function(e,t){for(var n=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),a=0,c=n.length;a<c;++a){var r=n[a];if(null===e)return;if(!(r in e))return;e=e[r]}return e};function W(e){var t=e.config,n=t.entity,c=t.entityDisplayLabels,r=t.deleteMessage,o=void 0===r?"Do you want delete : ":r,s=t.modalTitle,i=void 0===s?"Remove Item":s,d=Object(l.b)(),p=Object(l.c)(I),b=p.current,j=p.isLoading,f=p.isSuccess,O=Object(k.b)(),h=O.state,m=O.crudContextAction,y=h.isModalOpen,g=m.modal,w=Object(a.useState)(""),E=Object(u.a)(w,2),S=E[0],B=E[1];Object(a.useEffect)((function(){if(f&&(g.close(),d(v(n)),d(x(n))),b){var e=c.map((function(e){return H(b,e)})).join(" ");B(e)}}),[f,b]);return Object(M.jsx)(X.a,{title:i,visible:y,onOk:function(){var e=b._id;d(C(n,e))},onCancel:function(){j||g.close()},confirmLoading:j,children:Object(M.jsxs)("p",{children:[o,S]})})}function z(e){var t=e.config.readColumns,n=Object(l.c)(B).result,o=Object(k.b)().state.isReadBoxOpen,s=Object(a.useState)([]),i=Object(u.a)(s,2),d=i[0],p=i[1],b=Object(a.useRef)(!0);Object(a.useEffect)((function(){if(console.log("currentResult :",n),console.log("readColumns :",t),b.current)b.current=!1;else{var e=[];t.map((function(t){var a=t.dataIndex,c=t.title,r=H(n,a);e.push({propsKey:a,label:c,value:r})})),p(e)}}),[n]);var j=o?{display:"block",opacity:1}:{display:"none",opacity:0},f=d.map((function(e){return Object(M.jsxs)(c.a,{gutter:12,children:[Object(M.jsx)(r.a,{className:"gutter-row",span:8,children:Object(M.jsx)("p",{children:e.label})}),Object(M.jsx)(r.a,{className:"gutter-row",span:2,children:Object(M.jsx)("p",{children:" : "})}),Object(M.jsx)(r.a,{className:"gutter-row",span:14,children:Object(M.jsx)("p",{children:e.value})})]},e.propsKey)}));return console.log("itemsList :",f),Object(M.jsx)("div",{style:j,children:f})}var K=n(354),V=n(342),$=n(317),J=n(77);function G(e){var t=e.config,n=t.entity,c=t.searchConfig,r=c.displayLabels,o=c.searchFields,s=c.outputValue,i=void 0===s?"_id":s,d=Object(l.b)(),p=Object(a.useState)(""),b=Object(u.a)(p,2),j=b[0],O=b[1],x=Object(a.useState)([]),m=Object(u.a)(x,2),v=m[0],y=m[1],g=Object(k.b)().crudContextAction,C=g.panel,E=g.collapsedBox,S=g.readBox,B=f.a.source(),N=Object(l.c)(A),P=N.result,T=N.isLoading,I=N.isSuccess,_=Object(a.useRef)(!1),L=null;Object(a.useEffect)((function(){T&&y([{label:"... Searching"}])}),[T]);return Object(a.useEffect)((function(){var e=[];P.map((function(t){var n=r.map((function(e){return t[e]})).join(" ");e.push({label:n,value:t[i]})})),y(e)}),[P]),Object(M.jsx)(K.a,{value:j,options:v,style:{width:"100%"},onSelect:function(e){var t=P.find((function(t){return t[i]===e}));d(h(t)),C.open(),E.open(),S.open()},onSearch:function(e){_.current=!0,clearTimeout(L),L=setTimeout((function(){_.current&&""!==e&&d(w(n,B,{question:e,fields:o})),_.current=!1}),500)},onChange:function(e){var t=v.find((function(t){return t.value===e})),n=t?t.label:e;O(n)},notFoundContent:I?"":Object(M.jsx)(J.a,{}),allowClear:!0,placeholder:"Your Search here",children:Object(M.jsx)(V.a,{suffix:Object(M.jsx)($.a,{})})})}var Q=n(301),Z=n(287),ee=n(331),te=n(368),ne=n(350),ae=n(298),ce=n(8),re=n(322),oe=n(359),se=n(356),ie=n(172);function ue(e){var t=e.config,n=e.DropDownRowMenu,c=e.AddNewItem,r=t.entity,s=t.dataTableColumns,i=t.dataTableTitle;s=[].concat(Object(ce.a)(s),[{title:"",render:function(e){return Object(M.jsx)(re.a,{overlay:n({row:e}),trigger:["click"],children:Object(M.jsx)(ie.a,{style:{cursor:"pointer",fontSize:"24px"}})})}}]);var u=Object(l.c)(N),d=u.result,p=u.isLoading,b=d.pagination,j=d.items,f=Object(l.b)(),O=Object(a.useCallback)((function(e){f(v(r,e.current))}),[]);return Object(a.useEffect)((function(){f(v(r))}),[]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(oe.a,{onBack:function(){return window.history.back()},title:i,ghost:!1,extra:[Object(M.jsx)(o.a,{onClick:O,children:"Refresh"},"".concat(Object(ae.a)())),Object(M.jsx)(c,{config:t},"".concat(Object(ae.a)()))],style:{padding:"20px 0px"}}),Object(M.jsx)(se.a,{columns:s,rowKey:function(e){return e._id},dataSource:j,pagination:b,loading:p,onChange:O})]})}function le(e){var t=e.config,n=Object(k.b)().crudContextAction,a=n.collapsedBox,c=n.panel,r=t.ADD_NEW_ENTITY;return Object(M.jsx)(o.a,{onClick:function(){c.open(),a.close()},type:"primary",children:r})}function de(e){var t,n=e.row,a=Object(l.b)(),c=Object(k.b)().crudContextAction,r=c.panel,o=c.collapsedBox,s=c.modal,i=c.readBox,u=c.editBox,d=Object(l.c)((t=n._id,Object(E.a)(N,(function(e){return e.result.items.find((function(e){return e._id===t}))}))));return Object(M.jsxs)(Z.a,{style:{width:130},children:[Object(M.jsx)(Z.a.Item,{icon:Object(M.jsx)(ee.a,{}),onClick:function(){a(h(d)),r.open(),o.open(),i.open()},children:"Show"},"".concat(Object(ae.a)())),Object(M.jsx)(Z.a.Item,{icon:Object(M.jsx)(te.a,{}),onClick:function(){a(m("update",d)),u.open(),r.open(),o.open()},children:"Edit"},"".concat(Object(ae.a)())),Object(M.jsx)(Z.a.Item,{icon:Object(M.jsx)(ne.a,{}),onClick:function(){a(m("delete",d)),s.open()},children:"Delete"},"".concat(Object(ae.a)()))]})}function pe(e){var t=e.config;return Object(M.jsx)(ue,{config:t,DropDownRowMenu:de,AddNewItem:le})}function be(e){var t=e.config,n=e.formElements;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(z,{config:t}),Object(M.jsx)(U,{config:t,formElements:n})]})}function je(e){var t=e.config,n=Object(k.b)().crudContextAction.collapsedBox;return Object(M.jsxs)("div",{className:"box",children:[Object(M.jsx)(c.a,{gutter:12,children:Object(M.jsx)(r.a,{className:"gutter-row",span:21,children:Object(M.jsx)("h1",{style:{fontSize:20,marginBottom:20},children:t.panelTitle})})}),Object(M.jsxs)(c.a,{gutter:8,children:[Object(M.jsx)(r.a,{className:"gutter-row",span:21,children:Object(M.jsx)(G,{config:t})}),Object(M.jsx)(r.a,{className:"gutter-row",span:3,children:Object(M.jsx)(o.a,{onClick:function(){n.close()},block:!0,icon:Object(M.jsx)(s.a,{})})})]})]})}function fe(e){var t=e.config,n=e.createForm,c=e.updateForm,r=Object(l.b)();return Object(a.useLayoutEffect)((function(){r(O())}),[]),Object(M.jsxs)(Q.a,{config:t,fixHeaderPanel:Object(M.jsx)(je,{config:t}),sidePanelBottomContent:Object(M.jsx)(R,{config:t,formElements:n}),sidePanelTopContent:Object(M.jsx)(be,{config:t,formElements:c}),children:[Object(M.jsx)(pe,{config:t}),Object(M.jsx)(W,{config:t})]})}},330:function(e,t,n){"use strict";var a=n(4),c=n(3),r=n(5),o=n(0),s=n(7),i=n.n(s),u=n(29),l=n(132),d=n(48),p=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},b=function(e){var t,n=e.prefixCls,r=e.className,s=e.checked,u=e.onChange,l=e.onClick,b=p(e,["prefixCls","className","checked","onChange","onClick"]),j=(0,o.useContext(d.b).getPrefixCls)("tag",n),f=i()(j,(t={},Object(a.a)(t,"".concat(j,"-checkable"),!0),Object(a.a)(t,"".concat(j,"-checkable-checked"),s),t),r);return o.createElement("span",Object(c.a)({},b,{className:f,onClick:function(e){null===u||void 0===u||u(!s),null===l||void 0===l||l(e)}}))},j=n(139),f=n(138),O=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},x=new RegExp("^(".concat(j.a.join("|"),")(-inverse)?$")),h=new RegExp("^(".concat(j.b.join("|"),")$")),m=function(e,t){var n,s=e.prefixCls,p=e.className,b=e.style,j=e.children,m=e.icon,v=e.color,y=e.onClose,g=e.closeIcon,C=e.closable,w=void 0!==C&&C,k=O(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),E=o.useContext(d.b),S=E.getPrefixCls,B=E.direction,N=o.useState(!0),P=Object(r.a)(N,2),T=P[0],I=P[1];o.useEffect((function(){"visible"in k&&I(k.visible)}),[k.visible]);var A=function(){return!!v&&(x.test(v)||h.test(v))},_=Object(c.a)({backgroundColor:v&&!A()?v:void 0},b),L=A(),D=S("tag",s),M=i()(D,(n={},Object(a.a)(n,"".concat(D,"-").concat(v),L),Object(a.a)(n,"".concat(D,"-has-color"),v&&!L),Object(a.a)(n,"".concat(D,"-hidden"),!T),Object(a.a)(n,"".concat(D,"-rtl"),"rtl"===B),n),p),F=function(e){e.stopPropagation(),null===y||void 0===y||y(e),e.defaultPrevented||"visible"in k||I(!1)},R="onClick"in k||j&&"a"===j.type,Y=Object(u.a)(k,["visible"]),q=m||null,U=q?o.createElement(o.Fragment,null,q,o.createElement("span",null,j)):j,X=o.createElement("span",Object(c.a)({},Y,{ref:t,className:M,style:_}),U,w?g?o.createElement("span",{className:"".concat(D,"-close-icon"),onClick:F},g):o.createElement(l.a,{className:"".concat(D,"-close-icon"),onClick:F}):null);return R?o.createElement(f.a,null,X):X},v=o.forwardRef(m);v.displayName="Tag",v.CheckableTag=b;t.a=v},361:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(330),r=n(303),o=n(4),s=n(5),i=n(358),u=n(314),l=n(342),d=n(3),p=n(9),b=n(7),j=n.n(b),f=n(51),O=n(39),x=a.forwardRef((function(e,t){var n,c=e.prefixCls,r=void 0===c?"rc-switch":c,i=e.className,u=e.checked,l=e.defaultChecked,d=e.disabled,b=e.loadingIcon,x=e.checkedChildren,h=e.unCheckedChildren,m=e.onClick,v=e.onChange,y=e.onKeyDown,g=Object(p.a)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),C=Object(f.a)(!1,{value:u,defaultValue:l}),w=Object(s.a)(C,2),k=w[0],E=w[1];function S(e,t){var n=k;return d||(E(n=e),null===v||void 0===v||v(n,t)),n}var B=j()(r,i,(n={},Object(o.a)(n,"".concat(r,"-checked"),k),Object(o.a)(n,"".concat(r,"-disabled"),d),n));return a.createElement("button",Object.assign({},g,{type:"button",role:"switch","aria-checked":k,disabled:d,className:B,ref:t,onKeyDown:function(e){e.which===O.a.LEFT?S(!1,e):e.which===O.a.RIGHT&&S(!0,e),null===y||void 0===y||y(e)},onClick:function(e){var t=S(!k,e);null===m||void 0===m||m(t,e)}}),b,a.createElement("span",{className:"".concat(r,"-inner")},k?x:h))}));x.displayName="Switch";var h=x,m=n(82),v=n(138),y=n(48),g=n(79),C=n(42),w=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},k=a.forwardRef((function(e,t){var n,c=e.prefixCls,r=e.size,s=e.loading,i=e.className,u=void 0===i?"":i,l=e.disabled,p=w(e,["prefixCls","size","loading","className","disabled"]);Object(C.a)("checked"in p||!("value"in p),"Switch","`value` is not a valid prop, do you mean `checked`?");var b=a.useContext(y.b),f=b.getPrefixCls,O=b.direction,x=a.useContext(g.b),k=f("switch",c),E=a.createElement("div",{className:"".concat(k,"-handle")},s&&a.createElement(m.a,{className:"".concat(k,"-loading-icon")})),S=j()((n={},Object(o.a)(n,"".concat(k,"-small"),"small"===(r||x)),Object(o.a)(n,"".concat(k,"-loading"),s),Object(o.a)(n,"".concat(k,"-rtl"),"rtl"===O),n),u);return a.createElement(v.a,{insertExtraNode:!0},a.createElement(h,Object(d.a)({},p,{prefixCls:k,className:S,disabled:l||s,ref:t,loadingIcon:E})))}));k.__ANT_SWITCH=!0,k.displayName="Switch";var E=k,S=n(299),B=n(6);function N(e){e.isUpdateForm;var t,n=Object(a.useState)(!1),c=Object(s.a)(n,2),r=c[0],d=(c[1],Object(a.useState)([])),p=Object(s.a)(d,2),b=p[0],j=p[1];return Object(a.useEffect)((function(){S.a.list("company").then((function(e){j(e.result)}))}),[r]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(i.a.Item,(t={label:"Select",name:"company_id"},Object(o.a)(t,"label","Company"),Object(o.a)(t,"rules",[{required:!0,message:"Please choose the company!"}]),Object(o.a)(t,"children",Object(B.jsxs)(u.a,{children:[Object(B.jsx)(u.a.Option,{value:"",children:"----"}),b.length&&b.map((function(e,t){return Object(B.jsx)(u.a.Option,{value:e._id,children:e.name},t)}))]})),t)),Object(B.jsx)(i.a.Item,{name:"name",label:"Name",rules:[{min:10,message:"Minimum 10 letters!"},{max:50,message:"Maximun 50 letters!"},{required:!0,message:"Please input your name!"}],children:Object(B.jsx)(l.a,{autoComplete:"off"})}),Object(B.jsx)(i.a.Item,{name:"username",label:"Username",rules:[{min:8,message:"Minimum 8 letters!"},{max:20,message:"Maximun 20 letters!"},{required:!0,message:"Please input your username!"}],children:Object(B.jsx)(l.a,{autoComplete:"off"})}),Object(B.jsx)(i.a.Item,{name:"password",label:"Password",rules:[{min:8,message:"Minimum 8 letters!"},{max:20,message:"Maximun 20 letters!"},{required:!0,message:"Please input password!"}],children:Object(B.jsx)(l.a,{type:"password",autoComplete:"off"})}),Object(B.jsx)(i.a.Item,{name:"active",label:"Active",valuePropName:"checked",rules:[{required:!1,message:"Please inform if this user should be activated"}],children:Object(B.jsx)(E,{})})]})}t.default=function(){var e={entity:"user",panelTitle:"User Panel",dataTableTitle:"User Lists",ENTITY_NAME:"user",CREATE_ENTITY:"Create user",ADD_NEW_ENTITY:"Add new user",UPDATE_ENTITY:"Update user",DATATABLE_TITLE:"User List",readColumns:[{title:"Id",dataIndex:"_id"},{title:"Company",dataIndex:"company.name"},{title:"Name",dataIndex:"name"},{title:"Username",dataIndex:"username"},{title:"Active",dataIndex:"active",render:function(e){return Object(B.jsx)(B.Fragment,{children:e?"True":"False"})}}],dataTableColumns:[{title:"Company",dataIndex:"company",render:function(e){return Object(B.jsx)(B.Fragment,{children:e?e.name:null})}},{title:"Name",dataIndex:"name"},{title:"Username",dataIndex:"username"},{title:"Active",dataIndex:"active",render:function(e){return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(c.a,{color:e?"green":"red",children:e?"True":"False"},e)})}}],searchConfig:{displayLabels:["name"],searchFields:"username, name",outputValue:"_id"},entityDisplayLabels:["name"]};return Object(B.jsx)(r.a,{createForm:Object(B.jsx)(N,{}),updateForm:Object(B.jsx)(N,{isUpdateForm:!0}),config:e})}}}]);
//# sourceMappingURL=UserPage.d2eaa926.chunk.js.map